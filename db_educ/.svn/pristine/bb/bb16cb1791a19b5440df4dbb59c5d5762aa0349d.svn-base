function loadingCreate(t,e,n){var n=n||{},a=$("#"+t),i=a.css("position"),o=n.loadBox||"jump_loading_section",r=n.loadImg||"load_img",s=e||70,c="<div class="+o+"><div class="+r+"></div></div>";"static"==i&&(a.addClass("posi_rele"),a.append($(c)),a.find("."+r).css("margin-top",-s))}function loadingDestroy(t,e,n){var n=n||{},a=$("#"+t),i=n.loadBox||"jump_loading_section",o=e||500;setTimeout(function(){a.hasClass("posi_rele")&&a.removeClass("posi_rele"),a.find("."+i).remove()},o)}function selectDrop(t,e,n,a,i){var o,r=$(t),s=$(t+" "+e),c=$(t+" "+n);r.hover(function(t){var n=t||event,a=$(this).find(e),i=a.css("display");"none"==i?a.stop(!0,!0).slideDown(300):a.stop(!0,!0).slideUp(300),n.stopPropagation()}),c.click(function(){a&&(o=$(this).html(),$(this).parent().siblings().find(i).html(o),$(this).parent().siblings().find(":hidden").val(o))}),$(document).click(function(){s.stop(!0,!0).slideUp(300)})}function getViewPortSize(){var t=document.documentElement.clientWidth||document.body.clientWidth,e=document.documentElement.clientHeight||document.body.clientHeight,n=document.documentElement.scrollLeft||document.body.scrollLeft,a=document.documentElement.scrollTop||document.body.scrollTop;return{width:t+n,height:e+a}}function getWeek(t){var e=t.getDay(),n=null;switch(e){case 0:n="星期日";break;case 1:n="星期一";break;case 2:n="星期二";break;case 3:n="星期三";break;case 4:n="星期四";break;case 5:n="星期五";break;case 6:n="星期六"}return n}function checkSelect(t){$(t).click(function(){$(this).hasClass("on")?$(this).removeClass("on"):$(this).addClass("on")})}function radioSelect(t){$(t).click(function(){$(this).hasClass("on")?$(this).removeClass("on"):($(this).addClass("on"),$(this).siblings().removeClass("on"))})}function checkUqiString(t){var e=new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）&;—|{}【】‘；：”“'\"。，、？%+_-]","i"),n="";t=t.replace(/(\\|\s)/g,""),t=t.substring(0,100);for(var a=0;a<t.length;a++)n+=t.substr(a,1).replace(e,"");return n}function getExplorer(){var t=window.navigator.userAgent;return t.indexOf("Firefox")>=0?"firefox":t.indexOf("Chrome")>=0?"chrome":t.indexOf("Opera")>=0?"opera":t.indexOf("Safari")>=0?"safari":"ie"}function searchInputMove(t,e,n,a){var i=$(t);i.focus(function(){$(this).stop(!0,!0).animate({width:n},a)}),i.blur(function(){$(this).stop(!0,!0).animate({width:e},a)})}function calculateInpNum(t,e){var n=$(t),a=0;n.each(function(t,e){var n=Number($(e).val());a+=n}),$(e).html(a.toFixed(2))}function cutRepeatArry(t,e,n){for(var a=[],i=0;i<t.length;i++)a[i]=t[i];for(var o=0;o<e.length;o++)for(var r=e[o][n],s=0;s<a.length;s++)a[s][n]==r&&a.splice(s,1);return a}function check_number(t,e,n,a){var i=$(t),o=i.val()?i.val().length:0;$(n).html(a),$(e).html(o),i.on("input propertychange",function(){var n=$(t).val().length;n>a?$(t).val($(t).val().substring(0,a)):$(e).html(n)})}function timeCount(t,e,n,a,i){var o=$(t),r=$(e).val();if(5==arguments.length||6==arguments.length)for(var s=$(".time_select :nth-child(3)~div").find("input"),c=0,h=[];c<s.length;c++)h.push($(s[c]).val());else var n=$(n),h=n.val().toString().trim().split(":");var l=parseInt(h[0]);if(4==arguments.length||5==arguments.length){o.val(parseInt(o.val())+1);var d=parseInt(h[1])+parseInt(r);return d/60>=1&&(l+=parseInt((d/60).toString().split(".")[0]),d%=60),d<10&&(d="0"+d),{hours_times:l,mins_times:d}}o.val()>1&&o.val(o.val()-1);var d=parseInt(h[1])-r;if(d<0){d-=2*d;var u=Math.ceil(d/60);l-=u,d=60-d%60}return d<10&&(d="0"+d),{hours_times:l,mins_times:d}}function add_count_time(t){var e=parseInt(t.addend),n=parseInt(t.add_time_hour),a=parseInt(t.add_time_minit),i=60*n+e+a;return i>=1440}function checkSty(t){var t=t||{},e={unbind:{attr:"data-unbind",boo:"true"}},n=$.extend({},e,t),a=$("[data-role='checkbox']"),i=a.find("input.check_box[type='checkbox']");i.each(function(t){"checked"==i.eq(t).attr("checked")&&a.eq(t).addClass("on")}),a.click(function(){var t=$(this).find("input.check_box");return $(this).attr(n.unbind.attr)!=n.unbind.boo&&(void 0===t.attr("checked")?(t.attr("checked","checked"),$(this).addClass("on")):"checked"===t.attr("checked")&&(t.attr("checked",!1),$(this).removeClass("on")),void(n.call&&n.call($(this))))})}function checkStyDelegate(t){var e=$("[data-role='checkbox']"),n=e.find("input.check_box");n.each(function(t){"checked"==n.eq(t).attr("checked")&&e.eq(t).addClass("on")}),$(document).on("click","[data-role='checkbox']",function(e){var n=e||window.event;n.stopPropagation();var a=$(this).find("input.check_box");void 0===a.attr("checked")?(a.attr("checked","checked"),$(this).addClass("on")):"checked"===a.attr("checked")&&(a.attr("checked",!1),$(this).removeClass("on")),t&&t($(this))})}function setCheckboxStyleDelegate(t){var t=t||{},e=t.delegate_ele?t.delegate_ele:document,n=$("[data-role='checkbox']"),a=n.find("input.check_box");a.each(function(t){"checked"==a.eq(t).attr("checked")&&n.eq(t).addClass("on")}),$(e).on("click","[data-role='checkbox']",function(e){var n=e||window.event;n.stopPropagation();var a=$(this).find("input.check_box");void 0===a.attr("checked")?(a.attr("checked","checked"),$(this).addClass("on")):"checked"===a.attr("checked")&&(a.attr("checked",!1),$(this).removeClass("on")),t.call&&t.call($(this))})}function foldDown(t,e,n,a){var i=$(t),o=n,r=a,s=$(e);i.click(function(){var t=$(this).html();t==o?(s.show(300),$(this).html(r)):(s.hide(300),$(this).html(o))})}function radioSty(t,e){var n=$("[data-role='radio'][data-group='"+t+"']"),a=n.find("input.radio");a.each(function(t){"checked"==a.eq(t).attr("checked")&&n.eq(t).addClass("on")}),n.click(function(){n.removeClass("on"),$(this).addClass("on"),n.find("input.radio").attr("checked",""),$(this).find("input.radio").attr("checked","checked"),e&&e($(this))})}function deleZone(t){var e=$(t).parent();$(t).click(function(){e.remove()})}function showBigImg(t,e){var n=$(t),a=n.attr("src");n.hover(function(t){var n=t||event,i=n.clientX,o=n.clientY;$(e).attr("src",a),$(e).css({left:i,top:o}).stop(!0,!0).fadeIn(100)},function(){$(e).stop(!0,!0).fadeOut(100)})}function addDeleData(t,e,n,a,i){var o="",r={},s=t.find("."+a);s.each(function(){var t=$(this),a=t.children("."+n).attr("data-id"),i=t.children("."+e).html();r[a]=i}),o=JSON.stringify(r),i.val(o)}function addMetailFocus(t,e,n,a){var i=$(t).parents(".add_school").siblings(".school_query.no-border").find(".use_teach"),o=i.find("#menu_list_on"),r=($(t).parents(".menu_list").siblings(".menu_list_on"),i.find(".dele_zone"),i.find(".dele_zone").length),s=$("#cur"),c=$("#total"),h=c.html()-0,l=$("#"+e),d=$(t).attr("data-name"),u=$(t).attr("data-id"),m='<div class="dele_zone"><span class="delete_can">{goodsName}</span><div class="img_del" data-id="{goodsId}" onclick="deleMetailFocus(this,\''+e+"');\"></div></div>",p=null;if(p=m.replace(/{goodsName}/g,d),p=p.replace(/{goodsId}/g,u),$(t).hasClass("on")){if(r>=h)return;$(t).html("【取消】"),$(t).removeClass("on"),o.before(p),addDeleData(i,"delete_can","img_del","dele_zone",l),n&&n()}else $(t).html("【选择】"),$(t).addClass("on"),i.find(".img_del[data-id='"+u+"']").parent().remove(),addDeleData(i,"delete_can","img_del","dele_zone",l),a&&a();r=i.find(".dele_zone").length,s.html(r)}function deleMetailFocus(t,e,n){var a=$(t).parents(".school_query.no-border").siblings(".add_school").find(".detail_t"),i=$(t).attr("data-id"),o=a.find(".delete_a.sel_window[data-id='"+i+"']"),r=$("#"+e),s=$("#cur"),c=$("#menu_list_on").parent(),h=(c.find("#menu_list_on"),c.find(".dele_zone").length);o.html("【选择】"),o.addClass("on"),$(t).parent().remove(),h=c.find(".dele_zone").length,s.html(h),addDeleData(c,"delete_can","img_del","dele_zone",r),n&&n()}function menuOverFocus(t){var e=$("#menu_list_on").parent(),n=(e.find("#menu_list_on"),$(t).parents(".menu_list").siblings(".menu_list_on"),e.find(".dele_zone").length),a=$("#total"),i=a.html()-0,a=$("#total"),i=a.html()-0,o="<div class='tip_num'>至多"+i+"条记录</div>";n>=i&&0==$(".tip_num").length&&($(t).parent().css("position","relative"),$(t).parent().append(o))}function menuOutFocus(t){$(t).parent().find(".tip_num").length>0&&($(t).parent().css("position","static"),$(t).parent().find(".tip_num").remove())}function menuOverClass(t){var e=($(".detail_t .handle_td").find(".sel_class_btn"),$(".detail_t .handle_td").find(".sel_class_btn.on")),n=$("#total"),a=n.html()-0,i="<div class='tip_number'>至多"+a+"条记录</div>";e>=a&&0==$(".tip_number").length&&($(t).parent().css("position","relative"),$(t).parent().append(i))}function menuOutClass(t){$(t).parent().find(".tip_number").length>0&&($(t).parent().css("position","static"),$(t).parent().find(".tip_number").remove())}function toDou(t){return t<10?"0"+t:""+t}function countDown(t,e,n,a){function i(){var t=parseInt((r-s)/1e3),e=parseInt(t/86400);t%=86400;var n=parseInt(t/3600);t%=3600;var i=parseInt(t/60);t%=60,o.innerHTML="还剩"+toDou(24*e+n)+"小时"+toDou(i)+"分钟"+toDou(t)+"秒",r<=s?(clearInterval(c),a&&a()):s+=1e3}var o=document.getElementById(t),r=e,s=n,c=null;i(),c=setInterval(i,1e3)}$(function(){try{layer.config({extend:["skin/jwb/style.css","skin/jwb_ask/style.css",""]})}catch(t){}}),function(t,e){var n=t.Calendar=function(t){this.total=42,this.todayClass=t.todayClass||"cur_day",this.weekEnd=t.weekEnd||"week_end",this.call=t.call,this.yearBox=document.getElementById(t.yearBox),this.monthBox=document.getElementById(t.monthBox),this.calendarBox=document.getElementById(t.calendarBox),this.prevBtn=document.getElementById(t.prevBtn),this.nextBtn=document.getElementById(t.nextBtn),this.initData(),this.init(),this.bindEvent()};n.prototype.getMonthDay=function(t,e){var n=new Date(t,e,1),a=n.getMonth();return n.setMonth(a+1,0),n.getDate()},n.prototype.getFirWeek=function(t,e){var n=new Date(t,e,1);return n.getDay()},n.prototype.bindEvent=function(){var t=this;this.prevBtn.onclick=function(e){if(t.countMonth--,0==t.countMonth)t.countMonth=12,t.countYear--;else if(t.countYear==t.curYear&&t.countMonth==t.curMonth)return void t.init();var n=t.getMonthDay(t.countYear,t.countMonth-1),a=t.getMonthDay(t.countYear,t.countMonth-2),i=t.getFirWeek(t.countYear,t.countMonth-1);t.createCal(t.countYear,t.countMonth,a,i,n),t.call&&t.call()},this.nextBtn.onclick=function(e){if(t.countMonth++,13==t.countMonth)t.countMonth=1,t.countYear++;else if(t.countYear==t.curYear&&t.countMonth==t.curMonth)return void t.init();var n=t.getMonthDay(t.countYear,t.countMonth-1),a=t.getMonthDay(t.countYear,t.countMonth-2),i=t.getFirWeek(t.countYear,t.countMonth-1);t.createCal(t.countYear,t.countMonth,a,i,n),t.call&&t.call()}},n.prototype.initData=function(){this.curDate=new Date,this.curYear=this.curDate.getFullYear(),this.curMonth=this.curDate.getMonth()+1,this.curDay=this.curDate.getDate(),this.curDays=this.getMonthDay(this.curYear,this.curMonth-1),this.curFirWeek=this.getFirWeek(this.curYear,this.curMonth-1),this.curPrevDays=this.getMonthDay(this.curYear,this.curMonth-2),this.countYear=this.curYear,this.countMonth=this.curMonth;for(var t=document.createDocumentFragment(),e=0;e<this.total;e++){var n=document.createElement("li");t.appendChild(n)}this.calendarBox.appendChild(t)},n.prototype.init=function(){this.yearBox.innerHTML=this.curYear,this.monthBox.innerHTML=this.curMonth;var t=this.calendarBox.getElementsByTagName("li"),e=0,n=0,a=null;this.curFirWeek?a=this.curPrevDays-this.curFirWeek:(a=this.curPrevDays-7,this.curFirWeek=7);for(var i=0;i<this.curFirWeek;i++)a++,t[i].className="prev_month",t[i].innerHTML=a,this.setProperty(t[i],this.yearBox.innerHTML-0,this.monthBox.innerHTML-0-1,a-0);for(var o=this.curFirWeek;o<t.length;o++)o<this.curDays+this.curFirWeek?(e++,t[o].className="cur_month",t[o].innerHTML=e,this.setProperty(t[o],this.yearBox.innerHTML-0,this.monthBox.innerHTML-0,e-0),o==this.curDay+this.curFirWeek-1&&(t[o].className+=" "+this.todayClass,t[o].innerHTML="<span class='today_con'>今天</span>"+e)):(n++,t[o].className="next_month",t[o].innerHTML=n,this.setProperty(t[o],this.yearBox.innerHTML-0,this.monthBox.innerHTML-0+1,n-0))},n.prototype.createCal=function(t,e,n,a,i){this.yearBox.innerHTML=t,this.monthBox.innerHTML=e;var o=this.calendarBox.getElementsByTagName("li"),r=0,s=0,c=null;a?c=n-a:(c=n-7,a=7);for(var h=0;h<a;h++)c++,o[h].className="prev_month",o[h].innerHTML=c,this.setProperty(o[h],this.yearBox.innerHTML-0,this.monthBox.innerHTML-0-1,c-0);for(var l=a;l<o.length;l++)l<i+a?(r++,o[l].className="cur_month",o[l].innerHTML=r,this.setProperty(o[l],this.yearBox.innerHTML-0,this.monthBox.innerHTML-0,r-0)):(s++,o[l].className="next_month",o[l].innerHTML=s,this.setProperty(o[l],this.yearBox.innerHTML-0,this.monthBox.innerHTML-0+1,s-0))},n.prototype.setProperty=function(t,e,n,a){var i="";0==n?(n=12,e--):13==n&&(n=1,e++),i=e+"-"+n+"-"+a,t.setAttribute("data-id",i);var o=new Date(e,n-1,a);0!=o.getDay()&&6!=o.getDay()||(t.className+=" "+this.weekEnd)}}(window,document),function(t,e){var n=t.CalendarList=function(t){this.total=42,this.curYear=(new Date).getFullYear(),this.curMonth=(new Date).getMonth(),this.curDay=(new Date).getDate(),this.monthNum=12,this.weekEnd=t.weekEnd||"week_end",this.arryList=t.arryList,this.countYear=this.curYear,this.countMonth=null,this.iMark=null,this.createCalList()};for(i in t.Calendar.prototype)t.CalendarList.prototype[i]=t.Calendar.prototype[i];n.prototype.createCalList=function(){for(var t=0;t<this.monthNum;t++){var e=document.createDocumentFragment(),n=document.getElementById(this.arryList[t]),a=null,i=null,o=null;0==t?(this.countYear--,this.countMonth=11,a=this.getMonthDay(this.countYear,this.countMonth)):(this.countYear=this.curYear,this.countMonth=t,a=this.getMonthDay(this.countYear,this.countMonth-1)),this.iMark=t,i=this.getFirWeek(this.curYear,t),o=this.getMonthDay(this.curYear,t),n.innerHTML="";for(var r=0;r<this.total;r++){var s=document.createElement("li");e.appendChild(s)}n.appendChild(e);var c=n.getElementsByTagName("li");this.createCal(this.countYear,this.countMonth,c,a,i,o)}},n.prototype.createCal=function(t,e,n,a,i,o){var r=n,s=0,c=0,h=null;i?h=a-i:(h=a-7,i=7);for(var l=0;l<i;l++)h++,r[l].className="prev_month",r[l].innerHTML=h,this.setProperty(r[l],this.curYear,this.iMark-1,h);for(var d=i;d<r.length;d++)d<o+i?(s++,r[d].className="cur_month",r[d].innerHTML=s,t==this.curYear&&e==this.curMonth&&d==this.curDay+i-1&&(r[d].className+=" today"),this.setProperty(r[d],this.curYear,this.iMark,s)):(c++,r[d].className="next_month",r[d].innerHTML=c,this.setProperty(r[d],this.curYear,this.iMark+1,c))},n.prototype.setProperty=function(t,e,n,a){var i=new Date(e,n,a),o=i.getFullYear(),r=i.getMonth()+1,s="";s=o+"-"+r+"-"+a,t.setAttribute("data-id",s),0!=i.getDay()&&6!=i.getDay()||(t.className+=" "+this.weekEnd)}}(window,document),String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};